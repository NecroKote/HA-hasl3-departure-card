{"mappings":"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","sources":["src/DepartureCardEditor.ts"],"sourcesContent":["import type { HomeAssistant, LovelaceCardEditor } from \"custom-card-helpers\"\nimport { LitElement, css, html } from \"lit\"\nimport { customElement, property, state } from \"lit/decorators\"\n\nimport { DepartureCardConfig } from './DepartureCard/DepartureCard.config'\nimport { getLanguage, translateTo, languages } from \"./translations\"\n\n@customElement('hasl4-departure-card-editor')\nexport class HASLDepartureCardEditor extends LitElement implements LovelaceCardEditor {\n  @property({ attribute: false })\n  public hass?: HomeAssistant;\n\n  @state()\n  private _config?: DepartureCardConfig\n\n  @state()\n  private _schema?: any\n\n  public setConfig(config: DepartureCardConfig): void {\n    this._config = config\n    this._schema = this.getSchema(translateTo(getLanguage()))\n  }\n\n  private getSchema = (_ : (key :string) => string) => {\n    const haveMultipleEntities = this._config?.entities?.length > 0\n\n    return [\n    { name: \"title\", selector: { text: {} } },\n    // { name: \"language\", selector: { select: { mode: 'dropdown', options: languages } } },\n    {\n      name: \"\",\n      type: \"expandable\",\n      icon: \"mdi:database\",\n      title: _(\"editor_entities\"),\n      schema: [\n        { name: \"entity\", disabled: haveMultipleEntities, selector: { entity: { filter: { domain: 'sensor', integration: 'hasl3' }}} },\n        { name: \"show_entity_name\", type: \"boolean\", disabled: haveMultipleEntities },\n        { name: \"entities\", selector: { entity: { multiple: true, filter: { domain: 'sensor', integration: 'hasl3' }}} },\n      ],\n    },\n    {\n      name: \"\",\n      type: \"expandable\",\n      icon: \"mdi:clock\",\n      title: _(\"editor_departures\"),\n      schema: [\n        { name: \"show_departures\", type: \"boolean\" },\n        { name: \"show_header\", type: \"boolean\" },\n        {\n          name: \"direction\",\n          selector: {\n            select: {\n              options: [\n                { value: 0, label: _(`editor_direction_all`) },\n                { value: 1, label: _(`editor_direction_left`) },\n                { value: 2, label: _(`editor_direction_right`) },\n              ]\n            }\n          }\n        },\n        { name: \"show_icon\", type: \"boolean\" },\n        { name: \"show_time_always\", type: \"boolean\" },\n        { name: \"max_departures\", selector: { number: { mode: \"box\", min: 1, max: 10 } }, },\n        {\n          name: \"\",\n          type: \"grid\",\n          schema: [\n            { name: \"hide_departed\", type: \"boolean\" },\n            { name: \"show_departed_offeset\", selector: { number: { mode: \"box\", min: 0, max: 30 } }, },\n          ],\n        },\n      ],\n    },\n    { name: \"show_updated\", type: \"boolean\", disabled: haveMultipleEntities },\n  ]};\n\n  private _valueChanged(ev: CustomEvent): void {\n    ev.stopPropagation();\n    const newConfig = ev.detail.value\n\n    const event = new Event(\"config-changed\", { bubbles: true, composed: true});\n    event.detail = { config: newConfig };\n    this.dispatchEvent(event);\n  }\n\n  render() {\n    const lang = getLanguage()\n    const _ = translateTo(lang)\n\n    return html`\n      <ha-form\n        .hass=${this.hass}\n        .data=${this._config}\n        .schema=${this._schema || []}\n        .computeLabel=${(item, data) => _(`editor_${item.name}`) || item.label || item.name }\n        @value-changed=${this._valueChanged}>\n      </ha-form>\n    `\n  }\n}\n"],"names":[],"version":3,"file":"editor.47aa0d62.js.map","sourceRoot":"../"}